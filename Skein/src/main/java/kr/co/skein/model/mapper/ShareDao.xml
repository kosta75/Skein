<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.skein.model.dao.ShareDao">

	
	<select id="hasShareBoard" resultType="Integer">
		SELECT COUNT(*) FROM ShareBoard WHERE shareEmail = #{param1} AND boardSeq = #{param2}
	</select>
	
	<insert id="shareBoardReg" parameterType="kr.co.skein.model.vo.ShareBoard">
		<selectKey order="BEFORE" keyProperty="shareSeq" resultType="String">
			SELECT NVL(MAX(TO_NUMBER(ShareSeq)),0)+1 FROM ShareBoard
		</selectKey>
		INSERT INTO ShareBoard(ShareSeq, ShareEmail, BoardSeq, SourceBoardSeq)
		VALUES(#{shareSeq}, #{shareEmail}, #{boardSeq}, #{sourceBoardSeq})
	</insert>
	
</mapper>