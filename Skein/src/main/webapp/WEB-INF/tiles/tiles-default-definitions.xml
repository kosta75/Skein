<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE tiles-definitions PUBLIC "-//Apache Software Foundation//DTD Tiles Configuration 2.1//EN" "http://tiles.apache.org/dtds/tiles-config_2_1.dtd">

<tiles-definitions>
	<!--
	* index/comm/layout.jsp
	* 로그인/비로그인 상태의 메인페이지 레이아웃이다.
	* 대부분의 UI가 보여지는 페이지
	* 공통사항을 포함한다.
	-->
	<definition name="index" template="/WEB-INF/views/index/comm/layout.jsp"
	preparer="publicLevelPreparer">
		<!-- preparer="publicLevelPreparer" -->
		<!-- 공통으로 적용되는 요소 Load -->
		<put-attribute name="common-resources" value="/WEB-INF/views/comm/resources/resources.jsp" />
		
		<!-- 인덱스 페이지에 추가하려는 요소 Load -->
		<put-attribute name="custom-index-resources" value="/WEB-INF/views/index/resources/resources.jsp" />
		
		<!-- 페이지 타이틀 적용 -->
		<put-attribute name="title" value="Skein" />
		
		<!-- 로그인시 헤더/푸터/인덱스 적용 -->
		<put-attribute name="header" value="/WEB-INF/views/comm/header.jsp" />
		<put-attribute name="footer" value="/WEB-INF/views/comm/footer.jsp" />
		<put-attribute name="index-logged" value="/WEB-INF/views/index/index-logged.jsp" />
		
		<!-- 비로그인시 헤더/푸터 적용 안됨 -->
		<put-attribute name="index-not-logged" value="/WEB-INF/views/index/index-not-logged.jsp" />
	</definition>
	
	<!-- Tiles 공통 설정 -->
	<definition name="*.*" template="/WEB-INF/views/comm/layout.jsp" extends="index">
		<!-- 각 페이지에 추가하려는 요소 Load -->
		<put-attribute name="custom-page-resources" value="/WEB-INF/views/{1}/resources/resources.jsp" />
		
		<put-attribute name="title" value="Notice" />
		<put-attribute name="content" value="/WEB-INF/views/{1}/{2}.jsp" />
	</definition>
	
	<!-- 외부 로그인 페이지/공통 레이아웃 사용 -->
	<definition name="joinus.login" template="/WEB-INF/views/comm/layout.jsp" extends="index">
		<!-- 각 페이지에 추가하려는 요소 Load -->
		<put-attribute name="custom-page-resources" value="/WEB-INF/views/joinus/resources/resources.jsp" />
	
		<put-attribute name="title" value="Login" />
		
		<!-- 헤더를 overwrite 함/헤더의 로그인 폼이 제거되야 해서 따로 적용 -->
		<put-attribute name="header" value="/WEB-INF/views/joinus/comm/header.jsp" />
		
		<!-- content -->
		<put-attribute name="content" value="/WEB-INF/views/joinus/login.jsp" />
	</definition>
	
	<!-- time 라인  -->
   <definition name="time" template="/WEB-INF/views/index/comm/layout.jsp" extends="index">
      <!-- 각 페이지에 추가하려는 요소 Load -->
      <put-attribute name="title" value="timeline" />
      <!-- content -->
      <put-attribute name="index-logged" value="/WEB-INF/views/index/time-line.jsp" />
      
   </definition>
   
   
   <!-- 사용자 검색 페이지 -->
	<definition name="friendship.searchMembers" template="/WEB-INF/views/comm/layout.jsp" extends="joinus.login">
		<!-- 각 페이지에 추가하려는 요소 Load -->
		<put-attribute name="custom-page-resources" value="/WEB-INF/views/friendship/resources/resources.jsp" />
	
		<put-attribute name="title" value="Search" />
		
		<!-- 헤더를 overwrite 함/헤더의 로그인 폼이 제거되야 해서 따로 적용 -->
		<put-attribute name="header" value="/WEB-INF/views/friendship/comm/header.jsp" />
		
		<!-- content -->
		<put-attribute name="content" value="/WEB-INF/views/friendship/searchMembers.jsp" />
	</definition>
	

</tiles-definitions>